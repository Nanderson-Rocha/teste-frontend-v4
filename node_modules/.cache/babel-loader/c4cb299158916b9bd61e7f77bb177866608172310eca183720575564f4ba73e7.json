{"ast":null,"code":"import \"core-js/modules/es.array.find.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.number.constructor.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport equipmentModel from \"../data/equipmentModel.json\";\nimport equipment from \"../data/equipment.json\";\nexport default {\n  name: \"EarningsDialog\",\n  props: {\n    equipmentId: {\n      type: String,\n      required: true\n    },\n    equipmentName: {\n      type: String,\n      required: true\n    },\n    productiveHours: {\n      type: Number,\n      required: true\n    },\n    stoppedHours: {\n      type: Number,\n      required: true\n    },\n    maintenanceHours: {\n      type: Number,\n      required: true\n    }\n  },\n  data: function data() {\n    return {\n      dialog: false,\n      hourlyEarnings: {\n        operating: 0,\n        stopped: 0,\n        maintenance: 0\n      },\n      modelName: \"\",\n      totalEarnings: 0,\n      totalEarningsFormatted: \"R$ 0,00\" // Inicializa como 0 reais\n    };\n  },\n  methods: {\n    calculateEarnings: function calculateEarnings() {\n      var _this = this,\n        _model$hourlyEarnings,\n        _model$hourlyEarnings2,\n        _model$hourlyEarnings3;\n      var selectedEquipment = equipment.find(function (item) {\n        return item.id === _this.equipmentId;\n      });\n      if (!selectedEquipment) {\n        console.error(\"Equipamento não encontrado em equipment.json.\");\n        return;\n      }\n      var equipmentModelId = selectedEquipment.equipmentModelId;\n      var model = equipmentModel.find(function (model) {\n        return model.id === equipmentModelId;\n      });\n      if (!model) {\n        console.error(\"Modelo de equipamento não encontrado em equipmentModel.json.\");\n        return;\n      }\n      this.modelName = model.name; // Define o nome do modelo\n\n      if (!model.hourlyEarnings || model.hourlyEarnings.length === 0) {\n        console.error(\"Hourly earnings não encontrado.\");\n        return;\n      }\n      var operatingStateId = \"0808344c-454b-4c36-89e8-d7687e692d57\";\n      var stoppedStateId = \"baff9783-84e8-4e01-874b-6fd743b875ad\";\n      var maintenanceStateId = \"03b2d446-e3ba-4c82-8dc2-a5611fea6e1f\";\n      var operatingEarning = ((_model$hourlyEarnings = model.hourlyEarnings.find(function (earning) {\n        return earning.equipmentStateId === operatingStateId;\n      })) === null || _model$hourlyEarnings === void 0 ? void 0 : _model$hourlyEarnings.value) || 0;\n      var stoppedEarning = ((_model$hourlyEarnings2 = model.hourlyEarnings.find(function (earning) {\n        return earning.equipmentStateId === stoppedStateId;\n      })) === null || _model$hourlyEarnings2 === void 0 ? void 0 : _model$hourlyEarnings2.value) || 0;\n      var maintenanceEarning = ((_model$hourlyEarnings3 = model.hourlyEarnings.find(function (earning) {\n        return earning.equipmentStateId === maintenanceStateId;\n      })) === null || _model$hourlyEarnings3 === void 0 ? void 0 : _model$hourlyEarnings3.value) || 0;\n      this.hourlyEarnings = {\n        operating: operatingEarning,\n        stopped: stoppedEarning,\n        maintenance: maintenanceEarning\n      };\n      this.totalEarnings = this.productiveHours * operatingEarning + this.stoppedHours * stoppedEarning + this.maintenanceHours * maintenanceEarning;\n\n      // Formata totalEarnings para reais brasileiros\n      this.totalEarningsFormatted = new Intl.NumberFormat(\"pt-BR\", {\n        style: \"currency\",\n        currency: \"BRL\"\n      }).format(this.totalEarnings);\n    },\n    openDialog: function openDialog() {\n      this.dialog = true;\n      this.calculateEarnings();\n    },\n    closeDialog: function closeDialog() {\n      this.dialog = false;\n    }\n  }\n};","map":{"version":3,"names":["equipmentModel","equipment","name","props","equipmentId","type","String","required","equipmentName","productiveHours","Number","stoppedHours","maintenanceHours","data","dialog","hourlyEarnings","operating","stopped","maintenance","modelName","totalEarnings","totalEarningsFormatted","methods","calculateEarnings","_this","_model$hourlyEarnings","_model$hourlyEarnings2","_model$hourlyEarnings3","selectedEquipment","find","item","id","console","error","equipmentModelId","model","length","operatingStateId","stoppedStateId","maintenanceStateId","operatingEarning","earning","equipmentStateId","value","stoppedEarning","maintenanceEarning","Intl","NumberFormat","style","currency","format","openDialog","closeDialog"],"sources":["/home/bruno/Documentos/Teste Aiko - Front END - FINAL/teste-frontend-v4/src/components/EarningsDialog.vue"],"sourcesContent":["<template>\r\n  <v-dialog v-model=\"dialog\" max-width=\"500\">\r\n    <v-card>\r\n      <v-card-title\r\n          class=\"d-flex justify-space-between align-center mt-3 ml-14 text-xs-h8\"\r\n        >\r\n          <span class=\"text-h8\">Custo Total de Operação</span>\r\n          <v-btn size=\"x-small\" variant=\"text\" icon @click=\"closeDialog\">\r\n            <v-icon icon=\"mdi-close\"></v-icon>\r\n          </v-btn>\r\n        </v-card-title>\r\n        <v-divider\r\n          color=\"teal\"\r\n          class=\"border-opacity-100 mb-4\"\r\n          :thickness=\"2\"\r\n          inset\r\n        ></v-divider>\r\n            \r\n        <h3 class=\"text-center text text-cyan-darken-4\">{{ equipmentName }}</h3>\r\n        <p class=\"text-center text text-cyan-darken-4\">{{ modelName }}</p>\r\n    \r\n      <v-card-text>\r\n        <p><strong>Horas Operando:</strong> {{ productiveHours }} horas</p>\r\n        <p><strong>Horas Parado:</strong> {{ stoppedHours }} horas</p>\r\n        <p><strong>Horas em Manutenção:</strong> {{ maintenanceHours }} horas</p>\r\n\r\n        <v-divider class=\"my-4\"></v-divider>\r\n\r\n        <p class=\"mb-2\"><strong>Valores por Estado:</strong></p>\r\n        <v-col>\r\n          <v-row class=\"mb-1\">\r\n          <v-icon color=\"#2ecc71\" \r\n                    >mdi-circle</v-icon\r\n                  >\r\n        <p class=\"ml-3\"> Operando: {{ hourlyEarnings.operating }} /hora</p>\r\n        </v-row>\r\n        <v-row class=\"mb-1\">\r\n          <v-icon color=\"#f1c40f\" \r\n                    >mdi-circle</v-icon\r\n                  >\r\n        <p class=\"ml-3\"> Parado: {{ hourlyEarnings.stopped }} /hora</p>\r\n        </v-row>\r\n        <v-row>\r\n          <v-icon color=\"#e74c3c\" \r\n                    >mdi-circle</v-icon\r\n                  >\r\n        <p class=\"ml-3\"> Manutenção: {{ hourlyEarnings.maintenance }} /hora</p>\r\n        </v-row>\r\n        </v-col>\r\n        \r\n        <v-divider class=\"my-4\"></v-divider>\r\n\r\n         <v-row justify=\"space-between\" class=\"align-center\">\r\n        <v-col>\r\n          <p><strong>Custo Total:</strong></p>\r\n        </v-col>\r\n        <v-col class=\"text-right mb-4\">\r\n          <h2 class=\"text-cyan-darken-4\">{{totalEarningsFormatted}}</h2>\r\n        </v-col>\r\n      </v-row>\r\n\r\n      </v-card-text>\r\n      \r\n    </v-card>\r\n  </v-dialog>\r\n</template>\r\n\r\n<script>\r\nimport equipmentModel from \"../data/equipmentModel.json\";\r\nimport equipment from \"../data/equipment.json\";\r\n\r\nexport default {\r\n  name: \"EarningsDialog\",\r\n  props: {\r\n    equipmentId: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n    equipmentName: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n    productiveHours: {\r\n      type: Number,\r\n      required: true,\r\n    },\r\n    stoppedHours: {\r\n      type: Number,\r\n      required: true,\r\n    },\r\n    maintenanceHours: {\r\n      type: Number,\r\n      required: true,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      dialog: false,\r\n      hourlyEarnings: {\r\n        operating: 0,\r\n        stopped: 0,\r\n        maintenance: 0,\r\n      },\r\n      modelName: \"\",\r\n      totalEarnings: 0,\r\n      totalEarningsFormatted: \"R$ 0,00\", // Inicializa como 0 reais\r\n    };\r\n  },\r\n  methods: {\r\n    calculateEarnings() {\r\n      const selectedEquipment = equipment.find(\r\n        (item) => item.id === this.equipmentId\r\n      );\r\n\r\n      if (!selectedEquipment) {\r\n        console.error(\"Equipamento não encontrado em equipment.json.\");\r\n        return;\r\n      }\r\n\r\n      const equipmentModelId = selectedEquipment.equipmentModelId;\r\n\r\n      const model = equipmentModel.find(\r\n        (model) => model.id === equipmentModelId\r\n      );\r\n\r\n      if (!model) {\r\n        console.error(\"Modelo de equipamento não encontrado em equipmentModel.json.\");\r\n        return;\r\n      }\r\n      this.modelName = model.name; // Define o nome do modelo\r\n\r\n      if (!model.hourlyEarnings || model.hourlyEarnings.length === 0) {\r\n        console.error(\"Hourly earnings não encontrado.\");\r\n        return;\r\n      }\r\n\r\n      const operatingStateId = \"0808344c-454b-4c36-89e8-d7687e692d57\";\r\n      const stoppedStateId = \"baff9783-84e8-4e01-874b-6fd743b875ad\";\r\n      const maintenanceStateId = \"03b2d446-e3ba-4c82-8dc2-a5611fea6e1f\";\r\n\r\n      const operatingEarning = model.hourlyEarnings.find(\r\n        (earning) => earning.equipmentStateId === operatingStateId\r\n      )?.value || 0;\r\n\r\n      const stoppedEarning = model.hourlyEarnings.find(\r\n        (earning) => earning.equipmentStateId === stoppedStateId\r\n      )?.value || 0;\r\n\r\n      const maintenanceEarning = model.hourlyEarnings.find(\r\n        (earning) => earning.equipmentStateId === maintenanceStateId\r\n      )?.value || 0;\r\n\r\n      this.hourlyEarnings = {\r\n        operating: operatingEarning,\r\n        stopped: stoppedEarning,\r\n        maintenance: maintenanceEarning,\r\n      };\r\n\r\n      this.totalEarnings =\r\n        this.productiveHours * operatingEarning +\r\n        this.stoppedHours * stoppedEarning +\r\n        this.maintenanceHours * maintenanceEarning;\r\n\r\n      // Formata totalEarnings para reais brasileiros\r\n      this.totalEarningsFormatted = new Intl.NumberFormat(\"pt-BR\", {\r\n        style: \"currency\",\r\n        currency: \"BRL\",\r\n      }).format(this.totalEarnings);\r\n    },\r\n    openDialog() {\r\n      this.dialog = true;\r\n      this.calculateEarnings();\r\n    },\r\n    closeDialog() {\r\n      this.dialog = false;\r\n    },\r\n  },\r\n};\r\n</script>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}